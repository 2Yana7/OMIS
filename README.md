# Прототип платформы мониторинга и балансировки уровней

Учебный проект, моделирующий работу системы поддержки принятия решений для игровых уровней. Ядро написано на Python и включает контроллеры сбора данных, анализа, формирования рекомендаций и отчётов. В составе есть простое веб-приложение на FastAPI с шаблонами Jinja2 для демонстрации сценариев.

## Возможности
- Имитация цикла тестирования уровня: сбор показаний «сенсоров», анализ, прогноз, отчёт.
- Встроенный журнал событий для отслеживания последовательности действий.
- Веб-интерфейс с экраном мониторинга, тестирования уровня и предпросмотра рекомендаций.
- Набор скриптовых тестов для модели и контроллеров.

## Требования
- Python 3.11+.
- Зависимости: `fastapi`, `uvicorn`, `jinja2` (можно установить через pip).

## Установка
```bash
python -m venv .venv
# Windows
.venv\Scripts\activate
# macOS / Linux
source .venv/bin/activate

pip install --upgrade pip
pip install fastapi uvicorn jinja2
```

## Запуск ядра (CLI-сценарий)
Запускает демонстрационный сценарий из диаграммы последовательности и выводит журнал:
```bash
python application.py
```

## Запуск веб-интерфейса
Поднимает FastAPI-приложение и рендерит шаблоны из `web/templates`:
```bash
uvicorn web.main:app --reload
```
Открыть в браузере: http://127.0.0.1:8000  
Тестовые учётки для входа: `designer/pass`, `developer/pass2`.

Основные страницы:
- `/` — заставка.
- `/login` — форма входа.
- `/menu` — главное меню.
- `/monitoring` и `/monitoring/problems` — мониторинг сценариев/проблем.
- `/level-testing` — редактирование параметров уровня.
- `/level-testing/forecast` — просмотр последнего прогноза и отчёта.

## Тесты
Два простых скрипта без внешних фреймворков:
```bash
python test_model.py
python test_controllers.py
```

## Структура проекта
- `application.py` — точка входа ядра, сценарий тестирования уровня.
- `controllers/` — контроллеры интерфейса, анализа, сбора данных, поддержки решений.
- `model/` — сущности и in-memory репозитории.
- `infrastructure/` — конфигуратор, DI-контейнер, фабрики и представления.
- `web/` — FastAPI-приложение, шаблоны Jinja2 и статика.
- `test_model.py`, `test_controllers.py` — проверочные скрипты.

